# Explicit NIXPACKS configuration for Railway deployment
# This prevents auto-detection issues with the monorepo structure

[phases.setup]
nixPkgs = ["nodejs_18", "npm"]

[phases.install]
cmds = ["npm install", "cd backend && npm install", "cd frontend && npm install"]

[phases.build]
cmds = ["cd backend && npm run build", "cd frontend && npm run build"]

[start]
cmd = "cd backend && npm start"
